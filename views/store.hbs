<div class="store">
  <div class="card w-100">
    <div class="card-header">
      Wallet
    </div>
    <div class="card-body">
      <div id="address" class="d-flex">
        <h5>Address:</h5>
        <span>address</span>
      </div>
      <div id="balance" class="d-flex">
        <h5>Balance:</h5>
        <span>balance</span>
      </div>
    </div>
  </div>
  <div class="card w-100">
    <div class="card-header">
      Buy Coin From Store
    </div>
    <div class="card-body">
      <div class="d-flex mt-2">
        <div class="coin-store">
          <input id="amount-coin" type="number" class="form-control" placeholder="Amount" />
          <button type="button" class="btn btn-primary" onclick="handleBuyCoin()">Buy Coin</button>
        </div>
      </div>
    </div>
  </div>
  <div class="card">
    <div class="card-header">
      History Purchase
    </div>
    <div class="card-body d-flex justify-content-center">
      <table class="table table-hover" style="width: 500px">
        <thead>
          <tr>
            <th scope="col">STT</th>
            <th scope="col">Amount</th>
            <th scope="col">Date</th>
          </tr>
        </thead>
        <tbody>
          <tr class="table-success">
            <th scope="row">1</th>
            <td>10</td>
            <td>29/05/2023</td>
          </tr>
          <tr class="table-secondary">
            <th scope="row">2</th>
            <td>20</td>
            <td>29/05/2023</td>

          </tr>
          <tr class="table-secondary">
            <th scope="row">3</th>
            <td>30</td>
            <td>29/05/2023</td>

          </tr>
        </tbody>
      </table>
    </div>

  </div>
</div>
<script>
  // handle when click to button buy coin
  function handleBuyCoin(){
    const amount = $('#amount-coin').val();
    if(!amount){
      alert("Input amount coin, please!");
      return;
    }

    if(!confirm(`Buy ${amount} coin, are you sure?`)){
      return;
    }

    // call api to buy
    const url = "/store/api/coin/buy";
    $.ajax({
      url: url,
      method: 'post',
      headers: {
        'Authorization': Cookies.get('private_key'),
      },
      data: JSON.stringify({amount}),
      contentType: 'application/json',
      success: function(res){
        console.log(res);
        location.reload();
      },
      error: function(res){
        console.log(res);
        alert("Server error, try again");
      }
    })
  }
</script>